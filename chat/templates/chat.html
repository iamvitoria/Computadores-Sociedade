{% extends 'base.html' %}

{% block content %}


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

<style>
    <style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f0f0f0;
        margin: 0;
        padding: 20px;
    }
    .chat-container {
        width: 80%;
        max-width: 600px;
        margin: 0 auto;
        background-color: #fff;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .message {
        padding: 10px 20px;
        clear: both;
        overflow: auto;
    }
    .message.sent {
        text-align: right;
        background-color: #8fb7c4;
    }
    .message.received {
        text-align: left;
        background-color: #E0E0E0;
    }
</style>


<div class="chat-container">
    <!-- Exibição das mensagens existentes -->
    {% for mensagem in mensagens %}
    <div class="message {% if mensagem.remetente_email == user.email %}sent{% else %}received{% endif %}">
        <p>{{ mensagem.descricao }}</p>
    </div>
    {% endfor %}

    <!-- Formulário para enviar nova mensagem -->
    <form method="post" action="">
        {% csrf_token %}
        <input type="hidden" name="remetente_email" value="{{ user.email }}">
        <input type="hidden" name="destinatario_email" value="{{ email }}">
        <div class="input-group mb-3">
            <input type="text" name="descricao" class="form-control" placeholder="Digite sua mensagem" aria-label="Digite sua mensagem" aria-describedby="basic-addon2">
            <div class="input-group-append">
                <button class="btn btn-outline-secondary" type="submit">Enviar</button>
            </div>
        </div>
    </form>
</div>


{% endblock %}
